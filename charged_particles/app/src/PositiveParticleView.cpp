#include "PositiveParticleView.h"

PositiveParticleView::PositiveParticleView(const SelfRemovalFn& removeSelfFn)
	: ParticleView(removeSelfFn)
	// clang-format off
	, m_mesh(
	{
		{ {0.0f, 0.0f},      {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // center
		{ {0.5f, 0.0f},      {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 0    1
		{ {0.433f, -0.25f},  {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 30   2
		{ {0.25f, -0.433f},  {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 60   3
		{ {0.0f, -0.5f},     {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 90   4
		{ {-0.25f, -0.433f}, {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 120  5
		{ {-0.433f, -0.25f}, {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 150  6
		{ {-0.5f, 0.0f},     {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 180  7
		{ {-0.433f, 0.25f},  {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 210  8
		{ {-0.25f, 0.433f},  {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 240  9
		{ {0.0f, 0.5f},      {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 270  10
		{ {0.25f, 0.433f},   {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 300  11
		{ {0.433f, 0.25f},   {0.8f, 0.0f, 0.0f, 1.0f}, {0.0f, 0.0f} }, // 330  12

		{ {-0.05f, -0.40f},  {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 13
		{ {0.05f, -0.40f},   {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 14
		{ {-0.05f, 0.40f},   {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 15
		{ {0.05f, 0.40f},    {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 16
		{ {-0.40f, -0.05f},  {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 17
		{ {0.40f, -0.05f},   {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 18
		{ {-0.40f, 0.05f},   {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 19
		{ {0.40f, 0.05f},    {1.0f, 1.0f, 1.0f, 1.0f}, {0.0f, 0.0f} }, // 20
	},
	{
		0, 1, 2,
		0, 2, 3,
		0, 3, 4,
		0, 4, 5,
		0, 5, 6,
		0, 6, 7,
		0, 7, 8,
		0, 8, 9,
		0, 9, 10,
		0, 10, 11,
		0, 11, 12,
		0, 12, 1,

		13, 16, 14,
		13, 15, 16,
		17, 20, 18,
		17, 19, 20
	})
	// clang-format on
{
}

void PositiveParticleView::OnDrawImpl(const gfx::Program& program) const
{
	m_mesh.Draw();
}
